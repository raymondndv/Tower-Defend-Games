<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thá»§ Cá»­a - Hardcore Economy</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
      body{background:radial-gradient(1200px 800px at 50% 30%,#1b1035 0%,#0a0f1f 60%,#04070f 100%);color:#c8f6ff;font-family:monospace}
      header{background:rgba(10,15,31,0.8);box-shadow:0 0 12px #00e5ff inset,0 0 18px #ff00ff;border:2px solid #4d2a84}
      .stat-box{background:rgba(10,15,31,0.9);border:1px solid #00ffcc;box-shadow:0 0 10px #00ffcc;color:#e2faff}
      .stat-icon{color:#ff66f9;text-shadow:0 0 6px #ff66f9}
      #gameCanvas{image-rendering:pixelated;box-shadow:0 0 24px #00e5ff,0 0 48px #ff00ff inset;border:2px solid #00ffcc}
      .scanlines{position:fixed;inset:0;pointer-events:none;background-image:repeating-linear-gradient(to bottom,rgba(0,0,0,0.15) 0px,rgba(0,0,0,0.15) 2px,rgba(0,0,0,0) 3px,rgba(0,0,0,0) 4px);mix-blend-mode:overlay;z-index:9999}
    </style>
</head>
<body>

    <header>
        <div class="stat-box"><span class="stat-icon">â¤ï¸</span> <span id="lives">20</span></div>
        <div class="stat-box"><span class="stat-icon">ğŸ’°</span> <span id="money">50</span></div>
        <div class="stat-box"><span class="stat-icon">ğŸŒŠ</span> Äá»£t: <span id="wave">1</span></div>
        <div class="stat-box" id="map-info" title="ThÃ´ng tin báº£n Ä‘á»“ hiá»‡n táº¡i">
            <span class="stat-icon">ğŸ—ºï¸</span> <span id="map-name">Thung LÅ©ng KhÃ³ KhÄƒn</span> 
            <div class="difficulty-indicator" id="map-difficulty-container">
                <div class="difficulty-stars" id="difficulty-stars"></div>
                <span class="difficulty-text" id="map-difficulty">Äá»™ khÃ³: 3</span>
                <div class="difficulty-bar">
                    <div class="difficulty-fill" id="difficulty-fill"></div>
                </div>
            </div>
        </div>
        <div class="stat-box towers-info-toggle" onclick="toggleTowersPanel()" title="Nháº¥n Ä‘á»ƒ xem chi tiáº¿t thÃ¡p">
            <span class="stat-icon">ğŸ°</span> Chi tiáº¿t thÃ¡p
        </div>
    </header>

    <div id="towers-panel" class="towers-panel hidden">
        <h3>ThÃ¡p trÃªn sÃ n</h3>
        <div id="towers-list" class="towers-list"></div>
    </div>

    <div id="damage-stats" class="damage-stats">
        <h3>ğŸ“Š THá»NG KÃŠ SÃT THÆ¯Æ NG</h3>
        <p style="text-align: center; color: #bdc3c7; font-size: 0.9rem;">ChÆ°a gÃ¢y sÃ¡t thÆ°Æ¡ng</p>
    </div>

    <div id="game-wrapper">
        <div id="game-container">
            <!-- Game Canvas: 1200x800 -->
            <canvas id="gameCanvas" width="1200" height="800"></canvas>
            <div id="prep-timer" style="
                position: absolute;
                top: 10px;
                right: 10px;
                background: rgba(10,15,31,0.85);
                color: #e2faff;
                padding: 8px 12px;
                border: 2px solid #00ffcc;
                border-radius: 8px;
                box-shadow: 0 0 12px #00e5ff;
                font-size: 12px;
                display: none;
                z-index: 1000;
            "></div>
            <div class="scanlines"></div>
            
            

            <!-- Wave Notification Popup -->
            <div id="wave-notification" class="wave-notification hidden">
                <div class="wave-notification-content">
                    <h3 id="wave-notification-title">Äá»£t 2 Ä‘ang tá»›i</h3>
                    <p id="wave-notification-text">QuÃ¡i cáº§n sÃºng gÃ¬?</p>
                </div>
            </div>

            
            
            <!-- Start Screen -->
            <div id="start-screen" class="overlay">
                <h1>THá»¦ Cá»¬A: CHIáº¾N LÆ¯á»¢C</h1>
                <div class="instructions">
                    <p>ChÃ o má»«ng Ä‘áº¿n vá»›i Thá»§ Cá»­a: Chiáº¿n LÆ°á»£c! Nhiá»‡m vá»¥ cá»§a báº¡n lÃ  báº£o vá»‡ cÄƒn cá»© khá»i cÃ¡c Ä‘á»£t quÃ¡i váº­t táº¥n cÃ´ng báº±ng cÃ¡ch xÃ¢y dá»±ng vÃ  nÃ¢ng cáº¥p thÃ¡p phÃ²ng thá»§.</p>
                    <ul>
                        <li><strong>ğŸ’° TIá»€N KHÃ“ KIáº¾M:</strong> Báº¡n chá»‰ cÃ³ 50$ Ä‘á»ƒ báº¯t Ä‘áº§u! Pháº£i trá»“ng cÃ¢y Ä‘á»ƒ kiáº¿m tiá»n.</li>
                        <li>ğŸŒ± <strong>VÆ¯á»œN CÃ‚Y BÃ Máº¬T:</strong> Nháº¥n TAB hoáº·c click cá»•ng Ä‘á»ƒ vÃ o vÆ°á»n trá»“ng cÃ¢y kiáº¿m tiá»n.</li>
                        <li>ğŸ’§ <strong>TÆ¯á»šI NÆ¯á»šC:</strong> CÃ¢y sáº½ cháº¿t náº¿u khÃ´ng Ä‘Æ°á»£c tÆ°á»›i nÆ°á»›c Ä‘Ãºng lÃºc!</li>
                        <li>Sá»­ dá»¥ng chuá»™t Ä‘á»ƒ chá»n vÃ  Ä‘áº·t thÃ¡p trÃªn báº£n Ä‘á»“.</li>
                        <li>Sá»­ dá»¥ng phÃ­m sá»‘ (1-8) Ä‘á»ƒ nhanh chÃ³ng chá»n thÃ¡p.</li>
                        <li><strong>Chuá»™t pháº£i Ä‘á»ƒ há»§y chá»n sÃºng Ä‘Ã£ chá»n.</strong></li>
                        <li>Theo dÃµi sá»‘ máº¡ng sá»‘ng, tiá»n vÃ  Ä‘á»£t hiá»‡n táº¡i á»Ÿ gÃ³c trÃªn bÃªn trÃ¡i mÃ n hÃ¬nh.</li>
                        <li>Nháº¥n nÃºt "Báº®T Äáº¦U" Ä‘á»ƒ báº¯t Ä‘áº§u
                </div>
                <button class="btn-primary" onclick="startGame()">Báº®T Äáº¦U</button>
            </div>

            <!-- Game Over Screen -->
            <div id="game-over-screen" class="overlay hidden">
                <h1 style="color: #e74c3c;">THáº¤T Báº I!</h1>
                <p id="final-score" style="font-size: 1.2rem; margin-bottom: 20px;"></p>
                <button class="btn-primary" onclick="resetGame()">CHÆ I Láº I</button>
            </div>
            
            <div id="tooltip"></div>
        </div>
    </div>

    <div id="controls">
        <div class="tower-select" onclick="selectTower('basic')" id="btn-basic" onmouseover="showTooltip(event, 'Cung Thá»§ (50$): Ráº», tá»‘c Ä‘á»™ trung bÃ¬nh')" onmouseout="hideTooltip()">
            <div class="shortcut-key">1</div>
            <span class="tower-icon">ğŸ¹</span>
            <span class="tower-cost">50$</span>
        </div>
        
        <div class="tower-select" onclick="selectTower('ice')" id="btn-ice" onmouseover="showTooltip(event, 'BÄƒng GiÃ¡ (75$): LÃ m cháº­m, KHÃ”NG sÃ¡t thÆ°Æ¡ng')" onmouseout="hideTooltip()">
            <div class="shortcut-key">2</div>
            <span class="tower-icon">â„ï¸</span>
            <span class="tower-cost">75$</span>
        </div>

        <div class="tower-select" onclick="selectTower('poison')" id="btn-poison" onmouseover="showTooltip(event, 'Äá»™c DÆ°á»£c (100$): RÃºt mÃ¡u theo thá»i gian')" onmouseout="hideTooltip()">
            <div class="shortcut-key">3</div>
            <span class="tower-icon">ğŸ§ª</span>
            <span class="tower-cost">100$</span>
        </div>

        <div class="tower-select" onclick="selectTower('sniper')" id="btn-sniper" onmouseover="showTooltip(event, 'Báº¯n Tá»‰a (150$): Báº¯n cháº­m, sÃ¡t thÆ°Æ¡ng Cá»°C Lá»šN')" onmouseout="hideTooltip()">
            <div class="shortcut-key">4</div>
            <span class="tower-icon">ğŸ”­</span>
            <span class="tower-cost">150$</span>
        </div>

        <div class="tower-select" onclick="selectTower('tesla')" id="btn-tesla" onmouseover="showTooltip(event, 'Tesla (120$): Báº¯n xÃ­ch Ä‘iá»‡n, Äƒn cÆ¡m tá»«ng nhÃ¢n')" onmouseout="hideTooltip()">
            <div class="shortcut-key">5</div>
            <span class="tower-icon">âš¡</span>
            <span class="tower-cost">120$</span>
        </div>

        <div class="tower-select" onclick="selectTower('laser')" id="btn-laser" onmouseover="showTooltip(event, 'Laser (180$): XuyÃªn qua quÃ¡i, báº¯n cháº­m')" onmouseout="hideTooltip()">
            <div class="shortcut-key">6</div>
            <span class="tower-icon">ğŸ”´</span>
            <span class="tower-cost">180$</span>
        </div>

        <div class="tower-select" onclick="selectTower('rocket')" id="btn-rocket" onmouseover="showTooltip(event, 'Rocket (200$): Ná»• diá»‡n rá»™ng, lÃ m cháº­m')" onmouseout="hideTooltip()">
            <div class="shortcut-key">7</div>
            <span class="tower-icon">ğŸš€</span>
            <span class="tower-cost">200$</span>
        </div>

        <div class="tower-select" onclick="selectTower('support')" id="btn-support" onmouseover="showTooltip(event, 'Support (160$): TÄƒng cá»™ng hÆ°á»Ÿng thÃ¡p gáº§n Ä‘Ã³')" onmouseout="hideTooltip()">
            <div class="shortcut-key">8</div>
            <span class="tower-icon">âœ¨</span>
            <span class="tower-cost">160$</span>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/classes.js"></script>
    <script src="js/map.js"></script>
    <script src="js/input.js"></script>
    <script src="js/ui-rendering.js"></script>
    <script src="js/farm.js"></script>
    <script src="js/farm-ui.js"></script>
    <script src="js/game.js"></script>

</body>
</html>
